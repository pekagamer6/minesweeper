{\rtf1\ansi\ansicpg1252\cocoartf2708
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fmodern\fcharset0 Courier;}
{\colortbl;\red255\green255\blue255;\red0\green0\blue0;}
{\*\expandedcolortbl;;\cssrgb\c0\c0\c0;}
\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\deftab720
\pard\pardeftab720\partightenfactor0

\f0\fs26\fsmilli13333 \cf0 \expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 <!DOCTYPE html>\
<html lang="en">\
<head>\
  <meta charset="UTF-8">\
  <meta name="viewport" content="width=device-width, initial-scale=1.0">\
  <title>Minesweeper Infinite Edition</title>\
  <style>\
    body \{\
      font-family: 'Arial', sans-serif;\
      background: #0f172a;\
      color: white;\
      display: flex;\
      justify-content: center;\
      align-items: center;\
      min-height: 100vh;\
      margin: 0;\
      overflow: hidden;\
    \}\
    #gameContainer \{\
      text-align: center;\
      max-width: 800px;\
      padding: 20px;\
      border-radius: 20px;\
      background: rgba(0,0,0,0.8);\
    \}\
    h1 \{ color: #06b6d4; text-shadow: 0 0 10px #06b6d4; \}\
    #mainMenu \{\
      display: flex;\
      flex-direction: column;\
      align-items: center;\
    \}\
    #logo \{ font-size: 48px; color: #06b6d4; \}\
    button \{\
      background: #10b981;\
      border: none;\
      color: white;\
      padding: 10px 40px;\
      margin: 10px;\
      border-radius: 9999px;\
      cursor: pointer;\
      font-size: 18px;\
      width: 200px;\
      transition: all 0.3s;\
    \}\
    button:hover \{ background: #059669; \}\
    #playBtn \{ background: #10b981; \}\
    #selectLevelBtn \{ background: #1e293b; color: #fcd34d; \}\
    #statsBtn \{ background: #1e293b; color: #22d3ee; \}\
    #optionsBtn \{ background: #1e293b; color: #94a3b8; \}\
    #board \{\
      display: grid;\
      margin: 20px auto;\
      gap: 4px;\
      padding: 10px;\
      border-radius: 10px;\
    \}\
    .cell \{\
      width: 40px;\
      height: 40px;\
      background: #1e293b;\
      border-radius: 8px;\
      display: flex;\
      align-items: center;\
      justify-content: center;\
      font-weight: bold;\
      font-size: 20px;\
      cursor: pointer;\
      user-select: none;\
      transition: all 0.2s ease;\
    \}\
    .cell.revealed \{ background: #334155; \}\
    .cell.flagged \{ content: '\uc0\u55357 \u57001 '; color: #f43f5e; \}\
    .cell.mine \{ background: #ef4444 !important; color: white; \}\
    #header \{\
      display: flex;\
      justify-content: space-around;\
      margin-bottom: 10px;\
    \}\
    .stat \{\
      background: #1e293b;\
      padding: 5px 10px;\
      border-radius: 9999px;\
      display: flex;\
      align-items: center;\
      gap: 5px;\
    \}\
    .modal \{\
      position: fixed;\
      top: 0;\
      left: 0;\
      width: 100%;\
      height: 100%;\
      background: rgba(0,0,0,0.8);\
      display: flex;\
      justify-content: center;\
      align-items: center;\
      z-index: 1000;\
    \}\
    .modal-content \{\
      background: #1e293b;\
      padding: 30px;\
      border-radius: 20px;\
      text-align: center;\
      max-width: 400px;\
    \}\
    .slider \{ width: 200px; \}\
    .level-btn \{ background: #334155; margin: 5px; \}\
    .num1 \{ color: #60a5fa; \}\
    .num2 \{ color: #4ade80; \}\
    .num3 \{ color: #f43f5e; \}\
    .num4 \{ color: #818cf8; \}\
    .num5 \{ color: #ef4444; \}\
    .num6 \{ color: #06b6d4; \}\
    .num7 \{ color: #000; \}\
    .num8 \{ color: #6b7280; \}\
  </style>\
</head>\
<body>\
  <div id="gameContainer">\
    <div id="mainMenu">\
      <div id="logo">\uc0\u55357 \u56483  Minesweeper <br>Infinite Edition</div>\
      <button id="playBtn">\uc0\u9654  Play</button>\
      <button id="selectLevelBtn">\uc0\u55356 \u57286  Select Level</button>\
      <button id="statsBtn">\uc0\u55357 \u56522  Statistics</button>\
      <button id="optionsBtn">\uc0\u9881  Options</button>\
      <p style="color: #f43f5e; font-size: 14px;">Right click to place flags \uc0\u55357 \u57001 </p>\
    </div>\
    <div id="gameScreen" style="display:none;">\
      <div id="header">\
        <div class="stat"><span>\uc0\u55356 \u57286  Nivel</span> <span id="level">1</span></div>\
        <div class="stat"><span>\uc0\u55357 \u56483  Minas</span> <span id="mines">10</span></div>\
        <div class="stat"><span>\uc0\u55357 \u57001  Banderas</span> <span id="flags">10</span></div>\
        <div class="stat"><span>\uc0\u9201  Tiempo</span> <span id="timer">00:00</span></div>\
      </div>\
      <div id="board"></div>\
    </div>\
  </div>\
\
  <!-- Modals -->\
  <div id="loreModal" class="modal" style="display:none;">\
    <div class="modal-content">\
      <div>\uc0\u55357 \u57057 \u65039 </div>\
      <h2>The Beginning</h2>\
      <p>You are a bomb defusal expert recruited for a dangerous mission. Enemy forces have planted mines across strategic territories. Your mission: clear them all.</p>\
      <button id="continueBtn" class="green">Continue \uc0\u8594 </button>\
    </div>\
  </div>\
  <div id="winModal" class="modal" style="display:none;">\
    <div class="modal-content">\
      <h2>Level Complete!</h2>\
      <p>\uc0\u11088 \u11088 \u11088 </p>\
      <p>Level <span id="winLevel"></span> completed</p>\
      <p id="winTime">0:00</p>\
      <button onclick="nextLevel()">Next Level \uc0\u8594 </button>\
      <button onclick="mainMenu()">Main Menu</button>\
    </div>\
  </div>\
  <div id="loseModal" class="modal" style="display:none;">\
    <div class="modal-content">\
      <h2>BOOM! Mission Failed</h2>\
      <button onclick="restartLevel()">Retry</button>\
      <button onclick="mainMenu()">Main Menu</button>\
    </div>\
  </div>\
  <div id="optionsModal" class="modal" style="display:none;">\
    <div class="modal-content">\
      <h3>Options</h3>\
      <label>Sound Volume: <input type="range" id="soundVol" min="0" max="1" step="0.1" value="0.5" class="slider"></label><br>\
      <label>Music Volume: <input type="range" id="musicVol" min="0" max="1" step="0.1" value="0.5" class="slider"></label><br>\
      <button onclick="closeOptions()">Close</button>\
    </div>\
  </div>\
  <div id="statsModal" class="modal" style="display:none;">\
    <div class="modal-content">\
      <h3>Global Statistics</h3>\
      <div class="stat"><span>\uc0\u55356 \u57286  Games Played</span> <span id="gamesPlayed">0</span></div>\
      <div class="stat"><span>\uc0\u55357 \u56421  Players</span> 42</div>\
      <div class="stat"><span>\uc0\u9201  Avg Time</span> 0:22</div>\
      <div id="lbTable"></div>\
      <button onclick="closeStats()">Close</button>\
    </div>\
  </div>\
  <div id="selectLevelModal" class="modal" style="display:none;">\
    <div class="modal-content">\
      <h3>Select Level</h3>\
      <div id="levelsList"></div>\
      <button onclick="closeSelectLevel()">Close</button>\
    </div>\
  </div>\
  <div id="loginModal" class="modal" style="display:none;">\
    <div class="modal-content">\
      <h3>Sign In</h3>\
      <input type="text" id="username" placeholder="Enter username">\
      <button onclick="login()">Login</button>\
    </div>\
  </div>\
\
  <script>\
    // Game State\
    let board = [];\
    let rows = 8, cols = 8, minesNum = 10;\
    let currentLevel = 1;\
    let gameOver = false;\
    let gameStarted = false;\
    let timer = 0;\
    let timerInterval;\
    let flagsUsed = 0;\
    let revealedCount = 0;\
    let totalSafe = 0;\
    let audioCtx;\
    let musicInterval;\
    let soundVol = 0.5;\
    let musicVol = 0.5;\
    let username = localStorage.getItem('msUsername') || '';\
\
    // Init Audio\
    function initAudio() \{\
      audioCtx = new AudioContext();\
    \}\
\
    function playTone(freq, duration = 0.1, type = 'sine') \{\
      if (soundVol === 0 || !audioCtx) return;\
      let osc = audioCtx.createOscillator();\
      osc.type = type;\
      osc.frequency.value = freq;\
      let gain = audioCtx.createGain();\
      gain.gain.setValueAtTime(soundVol, audioCtx.currentTime);\
      gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + duration);\
      osc.connect(gain);\
      gain.connect(audioCtx.destination);\
      osc.start();\
      osc.stop(audioCtx.currentTime + duration);\
    \}\
\
    function playExplosion() \{\
      playTone(100, 0.3, 'sawtooth');\
      // Add more for effect\
    \}\
\
    function startMusic() \{\
      if (musicVol === 0 || musicInterval) return;\
      let melody = [261.63, 329.63, 392.00]; // Simple loop\
      let idx = 0;\
      musicInterval = setInterval(() => \{\
        playTone(melody[idx % 3], 0.4, 'square', musicVol * 0.2);\
        idx++;\
      \}, 600);\
    \}\
\
    // UI\
    const boardEl = document.getElementById('board');\
    const levelEl = document.getElementById('level');\
    const minesEl = document.getElementById('mines');\
    const flagsEl = document.getElementById('flags');\
    const timerEl = document.getElementById('timer');\
    const mainMenuEl = document.getElementById('mainMenu');\
    const gameScreenEl = document.getElementById('gameScreen');\
\
    function showModal(id) \{\
      document.getElementById(id).style.display = 'flex';\
    \}\
\
    function hideModal(id) \{\
      document.getElementById(id).style.display = 'none';\
    \}\
\
    function mainMenu() \{\
      hideAllModals();\
      gameScreenEl.style.display = 'none';\
      mainMenuEl.style.display = 'flex';\
      stopTimer();\
      stopMusic();\
    \}\
\
    function hideAllModals() \{\
      document.querySelectorAll('.modal').forEach(m => m.style.display = 'none');\
    \}\
\
    // Leaderboard & Stats\
    function updateLeaderboard() \{\
      let scores = JSON.parse(localStorage.getItem('msScores') || '[]');\
      let table = '';\
      let colors = ['bg-green-600', 'bg-orange-600', 'bg-teal-600'];\
      scores.forEach((s, i) => \{\
        table += `<div class="$\{colors[i % 3]\} p-2 rounded-lg m-1">Level $\{s.level\} <br>$\{s.attempts\} attempts <br>$\{s.time\} by $\{s.user\}</div>`;\
      \});\
      document.getElementById('lbTable').innerHTML = table;\
    \}\
\
    function addScore(level, time, attempts) \{\
      let scores = JSON.parse(localStorage.getItem('msScores') || '[]');\
      scores.push(\{level, time, attempts, user: username || 'Anonymous'\});\
      localStorage.setItem('msScores', JSON.stringify(scores));\
    \}\
\
    // Game Logic (similar to previous, abbreviated for brevity)\
    function createBoard() \{\
      // Similar to previous, but update rows/cols/mines based on level\
      rows = 5 + currentLevel;\
      cols = rows;\
      minesNum = Math.floor(rows * cols * 0.15);\
      boardEl.style.gridTemplateColumns = `repeat($\{cols\}, 1fr)`;\
      // ... rest similar\
      minesEl.textContent = minesNum;\
      flagsEl.textContent = minesNum;\
    \}\
\
    // Buttons\
    document.getElementById('playBtn').onclick = () => \{\
      if (!username) \{\
        showModal('loginModal');\
        return;\
      \}\
      currentLevel = 1;\
      showLore();\
      mainMenuEl.style.display = 'none';\
      gameScreenEl.style.display = 'block';\
    \};\
\
    document.getElementById('selectLevelBtn').onclick = () => \{\
      let list = '';\
      for (let i = 1; i <= 50; i++) \{\
        list += `<button class="level-btn" onclick="startSpecificLevel($\{i\})">$\{i\}</button>`;\
      \}\
      document.getElementById('levelsList').innerHTML = list;\
      showModal('selectLevelModal');\
    \};\
\
    document.getElementById('statsBtn').onclick = () => \{\
      updateLeaderboard();\
      showModal('statsModal');\
    \};\
\
    document.getElementById('optionsBtn').onclick = () => showModal('optionsModal');\
\
    document.getElementById('continueBtn').onclick = () => \{\
      hideModal('loreModal');\
      createBoard();\
      startMusic();\
    \};\
\
    function closeOptions() \{\
      soundVol = document.getElementById('soundVol').value;\
      musicVol = document.getElementById('musicVol').value;\
      hideModal('optionsModal');\
    \}\
\
    function closeStats() \{\
      hideModal('statsModal');\
    \}\
\
    function closeSelectLevel() \{\
      hideModal('selectLevelModal');\
    \}\
\
    function startSpecificLevel(level) \{\
      currentLevel = level;\
      closeSelectLevel();\
      showLore();\
      mainMenuEl.style.display = 'none';\
      gameScreenEl.style.display = 'block';\
    \}\
\
    function login() \{\
      username = document.getElementById('username').value;\
      localStorage.setItem('msUsername', username);\
      hideModal('loginModal');\
      // Proceed to play if clicked play\
      document.getElementById('playBtn').click();\
    \}\
\
    // Init\
    initAudio();\
    if (!username) \{\
      // Optional: Show login on load if needed\
    \}\
  </script>\
</body>\
</html>\
}